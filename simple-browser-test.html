<!DOCTYPE html>
<html>
<head>
    <title>Simple Browser Test</title>
</head>
<body>
    <h1>Simple Browser Test</h1>
    <div id="output"></div>
    
    <script>
        function test() {
            const output = document.getElementById('output');
            let html = '<h2>Test Results:</h2>';
            
            // Test 1: Constants
            html += '<h3>1. Constants Test:</h3>';
            if (typeof window.FIRBConstants !== 'undefined') {
                html += '<p>✅ FIRBConstants loaded</p>';
                html += `<p>FOREIGN_NATIONAL: ${window.FIRBConstants.CITIZENSHIP_STATUS.FOREIGN_NATIONAL}</p>`;
                html += `<p>NEW_DWELLING: ${window.FIRBConstants.PROPERTY_TYPES.NEW_DWELLING}</p>`;
            } else {
                html += '<p>❌ FIRBConstants NOT loaded</p>';
            }
            
            // Test 2: Module
            html += '<h3>2. Module Test:</h3>';
            if (typeof window.FIRBEligibility !== 'undefined') {
                html += '<p>✅ FIRBEligibility loaded</p>';
                
                // Test 3: Function call
                html += '<h3>3. Function Test:</h3>';
                try {
                    const result = window.FIRBEligibility.checkFIRBEligibility({
                        citizenshipStatus: 'foreign',
                        propertyType: 'newDwelling'
                    });
                    html += '<p>✅ Function call successful</p>';
                    html += `<p>firbRequired: ${result.firbRequired}</p>`;
                    html += `<p>result: ${result.result}</p>`;
                    html += `<p>reason: ${result.reason}</p>`;
                    
                    if (result.firbRequired === true) {
                        html += '<p style="color: green;">✅ CORRECT: Foreign national requires FIRB</p>';
                    } else {
                        html += '<p style="color: red;">❌ INCORRECT: Foreign national should require FIRB</p>';
                    }
                } catch (error) {
                    html += `<p style="color: red;">❌ Function call failed: ${error.message}</p>`;
                }
            } else {
                html += '<p>❌ FIRBEligibility NOT loaded</p>';
            }
            
            output.innerHTML = html;
        }
        
        // Run test after modules load
        setTimeout(test, 1000);
    </script>
    
    <!-- Load modules -->
    <script src="src/constants/firbConstants.js"></script>
    <script src="src/utils/firbEligibility.js"></script>
</body>
</html>
